# About word cloud graph related operations

## 1. How to correctly call word cloud chart
> ps: Currently, the word cloud graph will be generated only when the save format is json file. Other storage methods to add word cloud graphs will be added in the near future.

Configuration items that need to be modified (./config/base_config.py):

```python
# Data storage type option configuration, supports three types: csv, db, json
#This needs to be saved in json format for the reasons mentioned above.
SAVE_DATA_OPTION = "json"  # csv or db or json
```

```python
#Whether to enable comment crawling mode, comment crawling is not enabled by default
#Here is True. Comments need to be crawled to generate a word cloud diagram of the comments.
ENABLE_GET_COMMENTS = True
```

```python
#wordcloudrelated
#Whether to enable generating comment word clouds
#Open word cloud chart function
ENABLE_GET_WORDCLOUD = True
```

```python
#Add custom words and their groups
#Add rules: xx:yy where xx is a custom-added phrase, and yy is the group name to which the phrase xx is assigned.
CUSTOM_WORDS = {
'Odds': 'Year', # Recognize "Odds" as a whole
'High frequency words': 'Professional terms' # Example custom words
}
```

```python
#Deactivate (disable) word file path
STOP_WORDS_FILE = "./docs/hit_stopwords.txt"
```

```python
#Chinese font file path
FONT_PATH= "./docs/STZHONGS.TTF"
```

**Related explanation**

- Adding custom phrases, `xx` in `xx:yy` is a custom word, `yy` is the group of words assigned to `xx`. `yy` can be given any value.

- If you need to add banned words, please add banned words in ./docs/hit_stopwords.txt (make sure the format is correct, one word per line)
- `FONT_PATH` is the format for generating Chinese fonts in the word cloud diagram. The default is Song Dynasty. You can add font files yourself and modify the path.

## 2. The location of generating word cloud diagram

![image-20240627204928601](https://rosyrain.oss-cn-hangzhou.aliyuncs.com/img2/202406272049662.png)

As shown in the figure, under the `words folder` under the data file, json is the word frequency statistics file and png is the word cloud diagram. The original comment content is under the `json folder`.